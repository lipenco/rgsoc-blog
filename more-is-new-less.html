<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <link href="stylesheets/bootstrap.css" media="screen" rel="stylesheet" type="text/css" />
<link href="stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
<link href="stylesheets/kudos.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://www.parsecdn.com/js/parse-1.2.8.min.js"></script>
    <script src="javascripts/jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="javascripts/jquery.cookie.js" type="text/javascript"></script>
<script src="javascripts/kudos.js" type="text/javascript"></script>
<script src="javascripts/backend.js" type="text/javascript"></script>
<script src="javascripts/gradient.js" type="text/javascript"></script>
    <link rel="alternate" type="application/atom+xml" href="http://lipen.co/til/feed.xml"/>
    <title>Lipen.co: Today I Learned</title>
  </head>

  <body data-target=".nav-collapse">
  

    <header class="clearfix" role="banner" id="header">
     
      <div class="container">
        <div class="row">
          <div class="span2">
            <h1><img src="images/logo.png"></h1>
          </div>
          <div class="span3">
            <h1><a href="./">Today I Learned</a></h1>
          </div>
          <div class="span4">
             <div class="nav-collapse collapse">
               <nav role="navigation">
             <ul class="nav nav-pills">
            <li><a href="http://lipen.co/">My website</a></li>
            <li><a href="feed.xml">RSS</a></li>
            <li><a href="http://lipen.co/#contact">Contact</a></li>
             </ul>
               </nav>
          </div>
    
      </div>
    </div>
      </div>
    </div>
    <div class="container">
    <p class="lead">My name is Magdalena Lipi&#324;ska and I am an excited <strong> Rails Girls Summer of Code</strong> participant. This (hand made) blog was created to track my steps towards ultimate nerdiness.</p>
  </div>

    </header>
    <div class = "container">
        <div class="row">
  <div class="span6">
  <h2><a href="more-is-new-less.html">More is the New Less</a> <em> <small>Jul 24</em></small></h2>
</div>
<div class="span4 kudo">
  <figure class="kudo kudoable" data-id="/more-is-new-less.html">
      <a class="kudobject">
        <div class="opening"><div class="circle">&nbsp;</div></div>
      </a>
      <a href="#kudo" class="count">
        <span class="num">0</span>
        <span class="txt">Kudos</span>
      </a>
    </figure>
  </div>
</div>

<div class="heading">  </div>

<p>Have you heard of the Single Responsibility Principle? Of course not – “you” don’t exist. I keep forgetting nobody is reading this blog;p. Well, Uncle Bob had a great talk (http://vimeo.com/43592685) about SRP.</p>

<p>But I prefer to listen to my friend Mateusz, who has become my unofficial coach. Thanks to him, refactoring is my new favorite topic.</p>

<p>Once one function like this:</p>

<pre><code>function layoutLinear(options) {    
    var distance = options.distance;    
    var elements = document.querySelectorAll(&quot;.step&quot;);    
    var position = 100;    
    var scale = 1;    
    if (!distance || distance &lt; 900) {    
        distance = 1500;    
}    
for (var index = 0; index &lt; elements.length; index++) {
    elements[index].dataset.x = position;
    position = position + distance;
    elements[index].dataset.scale = scale;
    if (index % 2 === 0) {
        scale = 2;
    } else {
        scale = 1;
    }</code></pre>

<p>}</p>

<p>Now turned into 3 functions, way more sexy:</p>

<pre><code>function MoveElementsFromEachOther(distance, elements) {   
    var position = parseInt(elements[0].dataset.x);
    for (var index = 0; index &lt; elements.length; index++) {
    position = position + distance;
    elements[index].dataset.x = position; 
    }
}

function RescaleEveryTwoElements(scale, elements) {
    for (var index = 0; index &lt; elements.length; index+=2) {
    elements[index].dataset.scale = 2; 
    }
}

function layoutLinear(distance, scale) {
    var elements = document.querySelectorAll(&quot;.step&quot;);
    elements[0].dataset.x = 0;
    RescaleEveryTwoElements(scale, elements) ;
    MoveElementsFromEachOther(distance, elements) ;
}</code></pre>

<p>Now we have longer, more complicated strucure without any difference in code preformance. Seems like the magic of refactoring is measured is salary of a programmer who know how to do it right ;p But taking into account that my scrip genereates 8 defferents layouts I saved a lot of space, memory and boost the redability.</p>

<h3 id='today_i_learned'>Today I Learned:</h3>

<ul>
<li>The essence of refactoring.</li>

<li>I am not young enough to know everthing.</li>
</ul>

<p><em>To sum up</em>: &#8220;When you sit down and solve the problem, the solution is merely just a first draft&#8221; - S. Stefanov, Java Script Patterns.</p>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'lipenco-til'; // required: replace example with your forum shortname
      var disqus_identifier = '/more-is-new-less.html';
      var disqus_title = 'More is the New Less';
      var disqus_url = 'http://lipen.co/til/more-is-new-less.html';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
  <div id="gradient">
      <footer role="contentinfo">
        <div class = "container">
        <p>&copy; <a href="http://lipen.co/"> Lipen.co </a> 2013. All rights reserved.</p>
      </div>
      </footer>
    </div>
    </div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'lipenco-til'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
  </body>
</html>
